<mission>
   <variables>
      <var name="defaultplayer" value="blue"/>
      <var name="mission_name" value="Director Test" />
      <var name="splashscreen" value="bad_guys_vs_good_guys.bmp" />
      <var name="system" value="blank" />
      <var name="description" value="4vs4.txt" />
   </variables>
        <flightgroups>
            <flightgroup name="green" faction="confed" type="rapier" ainame="default" waves="2" nr_ships="6">
         	<pos x="8000.0" y="0.0" z="0.0"/>
         	<rot x="180.0" y="180.0" z="180.0"/>
      	    </flightgroup>
	</flightgroups>

	<module name="director">
		<defvar name="total_count" type="float" init="0.0"/>
		<defvar name="random_count" type="float" init="0.0"/>

		<script name="gameloop">
			<defvar name="random_tmp" type="float"/>
			<defvar name="counter" type="float"/>
			<defvar name="last_random_count" type="float"/>

			<setvar name="last_random_count">
				<var name="random_count"/>
			</setvar>

			<setvar name="random_tmp">
				<call module="_std" name="Rnd"/>
			</setvar>
			<setvar name="random_count">
				<fmath math="+">
					<var name="random_tmp"/>
					<var name="random_count"/>
				</fmath>
			</setvar>
			<setvar name="total_count">
				<fmath math="+">
					<var name="total_count"/>
					<const type="float" value="1.0"/>
				</fmath>
			</setvar>

			<call module="_io" name="PrintFloats" s1="last_random_count,random_count,random_tmp,total_count: ">
				<var name="last_random_count"/>
				<var name="random_count"/>
				<var name="random_tmp"/>
				<var name="total_count"/>
			</call>

			<if>
				<test test="gt">
					<var name="random_tmp"/>
					<const type="float" value="0.5"/>
				</test>
				<block>
					<call module="_io" name="PrintFloats" s1="rnd is greater than 0.5"/>
				</block>
				<block>
					<call module="_io" name="PrintFloats" s1="rnd is smaller than 0.5"/>
					<if>
						<test test="le">
							<var name="random_tmp"/>
							<const type="float" value="0.25"/>
						</test>
						<call module="_io" name="PrintFloats" s1="rnd is even smaller than 0.25"/>
						<block>
						</block>
					</if>
				</block>
			</if>

		</script>
	</module>

</mission>

